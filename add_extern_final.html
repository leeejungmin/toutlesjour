{% extends "::app-layout.html.twig" %}

{% block title %}Types d'extern{% endblock %}

{% block pageContent %}
    <div class="container">
        <div class="form-group">
            <label id='labelinterm'for="selectlistforextern">Select list :{{ "variable.show.interim"|trans }}</label>
            <label id='labelstage'for="selectlistforextern">Select list :{{ "variable.show.stage"|trans }}</label>
            <select class="form-control" id="selectlistforextern">
                <option value="interim">{{ "variable.show.interim"|trans }}</option>
                <option value="stage">{{ "variable.show.stage"|trans }}</option>
            </select>
        </div>
    </div>
    <hr/>
    <div class="Interim-title">
        <h2>{{ "variable.show.interim"|trans }}</h2>
    </div>
    <div class="Stage-title">
        <h2>{{ "variable.show.stage"|trans }}</h2>
    </div>
    <div class="portlet">
        <div class="portlet-body form">
            {{ form_start(form) }}
            <div class="form-body">
                <h3 class="form-section">{{ 'form.label.civilstatus'|trans }}</h3>
                {{ form_row(form.people.lastName) }}
                {{ form_row(form.people.firstName) }}
                {{ form_row(form.people.socialSecurity) }}
                <div class="stagiere-body">
                    {{ form_row(form.people.bankIban) }}
                     {{ form_widget(form.payslip) }}
                </div>
                {{ form_row(form.people.birthdate) }}
                {{ form_row(form.people.birthCity) }}
                {{ form_row(form.people.addressLine1) }}
                {{ form_row(form.people.addressLine2) }}
                {{ form_row(form.people.addressCity) }}
                {{ form_row(form.people.addressZipcode) }}
                {{ form_row(form.people.addressCountry) }}
                <h3 class="form-section">{{ 'Contract'|trans }}</h3>
                <div class="Interim-body">
                    {{ form_row(form.contract.typeReason, {'value' : setTypeReason|number_format})}}
                </div>
                {{ form_row(form.contract.startDate) }}
                {{ form_row(form.contract.endDate) }}
            </div>
            <div class="form-actions">
                <a class="btn btn-default" href="{{ path('app_company_employee_index', { 'company' : company.id })}}"> {{ 'action.cancel'|trans }}</a>
                <button class="btn btn-primary" type="submit" value="create" name="">{{ "action.add_extern"|trans }}</button>
            </div>
            {{ form_end(form) }}
        </div>
    </div>

{% endblock %}
{% block pagescript %}
<script>
        jQuery(document).ready(function() {
            Digipay.init();
            $(".stagiere-body").hide();
            $("div.form-group select").change(function() {

                if($(this).val()==='interim'){
                    $('html, body').animate({ scrollTop: 200 }, 500);
                    $(".Interim-body,.Interim-title,#labelinterm").show(800);
                    $(".stagiere-body,.Stage-title,#labelstage").hide(800);
                    $('this option[value=interim]').prop('selected', true);
                    $('this option[value=stage]').prop('selected', false);
                }else if($(this).val()==='stage'){
                    $('html, body').animate({ scrollTop: 200 }, 500);
                    $(".stagiere-body,.Stage-title,#labelstage").show(800);
                    $(".Interim-body,.Interim-title,#labelinterm").hide(800);
                    $("#add_extern_workflow_contract_type").val(20);
                    $('this option[value=stage]').prop('selected', true);
                    $('this option[value=interim]').prop('selected', false);
                };
            })
        });
    </script>
{% endblock %}
